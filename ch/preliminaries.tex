\chapter{Preliminaries}
\label{ch:preliminaries}

\section{Set theory review}
\label{sec:set-theory-review}

\begin{definition}[Relation]
    A relation \(R\) on a set \(A\) is a subset of \(A \times A\). For all \(a,
    b \in A\), we would usually write \(a R b\) to denote that \((a, b) \in R\).
\end{definition}

\begin{definition}[Equivalence relation]
    An equivalence relation on a set \(A\) is a relation \(R\) on \(A\) that
    satisfies the following properties:
    \begin{enumerate}[label=(\alph*)]
        \item Reflexivity: For all \(a \in A\), \(a R a\).
        \item Symmetry: For all \(a, b \in A\), if \(a R b\), then \(b R a\).
        \item Transitivity: For all \(a, b, c \in A\), if \(a R b\) and \(b R
        c\), then \(a R c\).
    \end{enumerate}

    When \(R\) is an equivalence relation on \(A\), we would usually write \(a
    \sim b\) to denote that \(a R b\).
\end{definition}

\begin{example}
    In the set \(\R\) of real numbers, the relation \(=\) is an equivalence
    relation but \(<\) is not. In the first example (relying on our knowledge of
    \(\R\) from elementary mathematics without establishing it here), we have
    for all real numbers \(a, b, c\): (1) \(a = a\) (reflexivity), (2) if \(a =
    b\), then \(b = a\) (symmetry), and (3) if \(a = b\) and \(b = c\), then \(a
    = c\) (transitivity). As for \(<\), it is enough to observe that \(1 < 2\)
    holds but \(2 < 1\) does not.
\end{example}

\begin{example}
    Consider the set \(\Z\) of integers and define the relation
    \[
        a \sim b \text{ if and only if } n \mid (a - b) \text{ for some } n \in \Z.
    \]
    (This is congruence modulo \(n\).) We can verify that this relation is an
    equivalence relation. For all integers \(a, b, c\):
    \begin{enumerate}[label=(\alph*), itemsep=0pt, wide]
        \item Reflexivity: \(n \mid (a - a)\) for \(n = 0\).
        \item Symmetry: If \(n \mid (a - b)\), then \(n \mid (b - a)\).
        \item Transitivity: If \(n \mid (a - b)\) and \(m \mid (b - c)\), then
        \[n \mid ((a - b) + (b - c)) = (a - c).\]
    \end{enumerate}
\end{example}

\begin{definition}
    Given an equivalence relation \(\sim\) on a set \(A\), the equivalence class
    of an element \(a \in A\) is the set
    \[
        [a]_{\sim} = \{b \in A : a \sim b\}.
    \]
    We shall often drop the subscript \(\sim\) and write \([a]\) instead if the
    equivalence relation is clear from context.
\end{definition}

\begin{definition}
    A partition \(\mathcal{P}\) of a set \(A\) is a collection of nonempty
    subsets of \(A\) such that
    \begin{enumerate}[label=(\alph*)]
        \item The union of all sets in \(\mathcal{P}\) is \(A\).
        \item The intersection of any two distinct sets in \(\mathcal{P}\) is
        empty.
    \end{enumerate}
\end{definition}

\begin{theorem}
    Let \(\sim\) be an equivalence relation on a set \(A\). Then the equivalence
    classes of \(\sim\) form a partition of \(A\).
\end{theorem}

\begin{proof}
    Let \(A\) be a set and let \(\sim\) be an equivalence relation on \(A\).
    Consider the family of equivalence classes of \(\sim\) on \(A\):
    \[
        \mathcal{P}_{\sim} = \{[a]_{\sim} : a \in A\}.
    \]
    Let \([a]_{\sim} \in \mathcal{P}_{\sim}\). Then since \(\sim\) is an
    equivalence relation, we have by reflexivity, \(a \sim a\) and thus
    \([a]_{\sim}\) is not empty. Suppose \(a, b \in A\) such that \(a\not\sim
    b\) and suppose for the sake of contradiction that there exists a \(c \in
    [a]_{\sim} \cap [b]_{\sim}\). Then \(a \sim c\) and \(b \sim c\), so by
    symmetry and transitivity, \(a \sim b\), which contradicts our assumption.
    Thus the intersection of any two distinct sets in \(\mathcal{P}_{\sim}\) is
    empty. Finally, for all \(a \in A\), we have \(a \in [a]_{\sim}\) and thus
    the union of all sets in \(\mathcal{P}_{\sim}\) is \(A\). Thus
    \(\mathcal{P}_{\sim}\) is a partition of \(A\).
\end{proof}

On the other hand, given a partition \(\mathcal{P}\) of a set \(A\), we can
define an equivalence relation \(\sim\) on \(A\) such that \(\mathcal{P} =
\mathcal{P}_{\sim}\) as follows: let \(a \sim b\) if and only if there exists an
\(X \in \mathcal{P}\) such that \(a \in X\) and \(b \in X\). We can verify that
this is an equivalence relation.
\begin{enumerate}[label=(\alph*), wide, itemsep=0pt]
    \item For all \(a \in A\), \(a \sim a\) because \(a \in X\) implies \(a \in
    X \land a \in X\).
    \item For all \(a, b \in A\), if \(a \sim b\), then there exists an \(X \in
    \mathcal{P}\) such that \(a \in X\) and \(b \in X\). But this implies that
    \(b \in X\) and \(a \in X\), so \(b \sim a\).
    \item Finally, \(a \sim b\) and \(b \sim c\) implies that there exist \(X, Y
    \in \mathcal{P}\) such that \(a \in X\), \(b \in X \land b \in Y\), and \(c
    \in Y\) which implies that \(b \in X \cap Y \neq \emptyset\). Since
    \(\mathcal{P}\) is a partition, this further implies that \(X = Y\) and thus
    \(a \sim c\). Thus, \(\sim\) is transitive.
\end{enumerate}

It remains to show that \(\mathcal{P} = \mathcal{P}_{\sim}\). Now for if \(X \in
\mathcal{P}\), then for all \(a, b \in X\), there exists a \(Y \in \mathcal{P}\)
such that \(a \in Y\) and \(b \in Y\), so \(a \sim b\) and thus \(X \in
\mathcal{P}_{\sim}\) and \(\mathcal{P} \subset \mathcal{P}_{\sim}\). Conversely,
given any \([a]_{\sim} \in \mathcal{P}_{\sim}\), then there exists an \(X \in
\mathcal{P}\) such that \(a \in X\). If \(a' \in X\) then there exists a \(Y \in
\mathcal{P}\) such that \(a \in Y\) and \(a' \in Y\), so \(a \sim a'\) and thus
\(a' \in [a]_{\sim}\) and \(X \subset [a]_{\sim}\). If \(a' \in [a]_{\sim}\)
then there exists a \(Y \in \mathcal{P}\) such that \(a \in Y\) and \(a' in Y\)
and thus \(a \in X \cap Y = \emptyset\), so that \(X = Y\) and hence \(a' \in
X\). This means that \([a]_{\sim} \subset X\) and thus \([a]_{\sim} = X\) (by
the previous inclusion). Therefore both inclusions \(\mathcal{P} \subset
\mathcal{P}_{\sim}\) and \(\mathcal{P}_{\sim} \subset \mathcal{P}\) hold and
thus \(\mathcal{P} = \mathcal{P}_{\sim}\).

\begin{definition}
    The \emph{quotient} of a set \(A\) with respect to an equivalence relation
    \(\sim\) is the set of equivalence classes of \(\sim\). We denote this set
    by \(A/\sim\).
\end{definition}

\section{Set functions}
\label{sec:set-functions}

\begin{definition}
    A function \(f\) from a set \(A\) to a set \(B\) is a relation \(f \subseteq
    A \times B\) such that for all \(a \in A\), there exists a unique \(b \in
    B\) such that \((a, b) \in f\).
\end{definition}

We introduce some terminology and notation. if \((a, b) \in f\), it is customary
to write \(f(a) = b\). We call \(f(a)\) the \emph{image} of \(a\) under \(f\).
Because \(f(a) = b\) is unique, it follows immediately that if \(a = b\) we must
have \(f(a) = f(b)\). Following the convention in the literature, we would say
that \(f\) is \emph{well-defined.}

If \(f\) is a function from \(A\) to \(B\), we write
\[
    f: A \to B \text{ or } \begin{tikzcd}
        A \arrow[r, "f"] & B.
    \end{tikzcd}
\]
We call the latter a \emph{diagram}. The notation \(a \mapsto f(a)\) is also
used to explicitly define the function \(f\).

The \emph{domain} of \(f : A \to B\) is the set \(\dom f = \{a \in A : f(a)
\text{ is defined}\}\) while the \emph{codomain} of \(f\) is the set \(B\). 

If \(S \subset A\), the \emph{image} of \(S\) under \(f\) is the set
\[
    f(S) = \{f(a) : a \in S\}.
\]
If \(S = A\) then we simply write \(\img f\) for \(f(A)\). This is called the
\emph{image} of \(f\).


The function \(f\) is \emph{injective} (or \emph{one-to-one}) if for all \(a, b
\in A\), \(f(a) = f(b)\) implies \(a = b\). The function \(f\) is
\emph{surjective} (or \emph{onto}) if for all \(b \in B\), there exists an \(a
\in A\) such that \(f(a) = b\). The function \(f\) is \emph{bijective} if it is
both injective and surjective. If there exists a bijection between two sets
\(A\) and \(B\), we say that \(A\) and \(B\) are \emph{isomorphic} and write
\[
    A \cong B.
\]

When drawing diagrams, we would sometimes write \(\hookrightarrow\) and
\(\twoheadrightarrow\) to emphasize that a function is injective and surjective,
respectively.

Two functions \(f: A \to B\) and \(g: A \to B\) are \emph{equal} if they have
the same domain, codomain, and for all \(a \in A\), \(f(a) = g(a)\). We write
\(f = g\) to denote this equality. Note that if \(f = g\) and \(f\) is injective
(resp. surjective), then so is \(g\). Indeed if \(f = g\) is injective and \(f\)
is injective \(f(a) = f(b)\) implies \(g(a) = f(a) = f(b) = g(b)\) and thus \(a
= b\). Similarly if \(f = g\) is surjective and \(f\) is surjective, then for
all \(b \in B\) there exists an \(a \in A\) such that \(f(a) = b\) and thus
\(g(a) = f(a) = b\).

\begin{sectionthm}
    If \(f: A \to B\) and \(g: B \to C\) are functions, then the
    \emph{composition} of \(f\) and \(g\) (written \(g \circ f\)) is the
    function from \(A\) to \(C\) defined by
    \[
        (g \circ f)(a) = g(f(a)),
    \]
    for all \(a \in A\). We can represent this as the diagram
    \[
        \begin{tikzcd}
            A \arrow[r, "f"'] \arrow[rr, "g \circ f", bend left] & B \arrow[r, "g"'] & C
        \end{tikzcd}
    \]
    We say that the diagram above \emph{commutes} if \(g \circ f = g(f(a))\)
    (which is precisely our definition of composition).

    We can verify that composition is associative: if \(f: A \to B\), \(g: B \to
    C\), and \(h: C \to D\), then
    \[
        h \circ (g \circ f) = (h \circ g) \circ f.
    \]
    Graphically, this is represented as the diagram
    \[
        \begin{tikzcd}
            A \arrow[rr, "f"'] \arrow[rrrr, "g \circ f", bend left] &  & B \arrow[rr, "g"'] \arrow[swap, rrrr, "h \circ g", bend right] &  & C \arrow[rr, "h"'] &  & D
        \end{tikzcd}
    \]
    which again commutes.

    Suppose now that \(g \circ f\) is an injection and assume that \(f(a) =
    f(b)\) for some \(a, b \in A\). Then
    \[
        (g \circ f)(a) = g(f(a)) = g(f(b)) = (g \circ f)(b).
    \]
    Thus \(a = b\) and \(f\) is injective. Similarly, if \(g \circ f\) is
    surjective, then for all \(c \in C\) there exists an \(a \in A\) such that
    \(g(f(a)) = c\). Since \(f\) is a function, there exists a \(b \in B\) such
    that \(f(a) = b\). Thus \(g(b) = g(f(a)) = c\) and \(g\) is surjective.
    Observe that in the first case, if \(g \circ f\) is injective we have shown
    that the function applied first (i.e., \(f\)) is injective, while in the
    second case we have shown that the function applied last (i.e., \(g\)) is
    surjective.
\end{sectionthm}

\begin{sectionthm}
    For each set \(A\) we can define the function
    \[
        \id_A: A \to A
    \]
    which sends each element \(a \in A\) to itself. This is called the
    \emph{identity function} on \(A\). We can verify that the diagrams
    \[
        \begin{tikzcd}
            A \arrow[r, "f"'] \arrow[rr, "f", bend left] & B \arrow[r, "\id_B"'] & B & \text{and}& A \arrow[r, "\id_A"'] \arrow[rr, "f", bend left] & A \arrow[r, "f"'] & B
        \end{tikzcd}
    \]
    commute; i.e.,
    \[
        f \circ \id_A = f = \id_B \circ f.
    \]

    We can immediately verify that the identity function is a bijection.
\end{sectionthm}

\begin{sectionthm}
    Suppose \(f : A \to B\) is a bijection. Then since \(f\) is surjective, for
    all \(b \in B\) there exists a unique \(a \in A\) such that \(f(a) = b\).
    Since \(f\) is injective as well, this \(a\) is unique. Recall that the
    (graph of the) function \(f\) is the set
    \[
        \{(a, b) \in A \times B : f(a) = b\}.
    \]
    Thus the set of ordered pairs \((b, a)\) is also well-defined as a function.
    Call this function \(g : B \to A\) defined by \(g(b) = a\) when \(f(a) =
    b\). The function \(g\) is such that the diagrams
    \[
        \begin{tikzcd}
            A \arrow[r, "f"'] \arrow[rr, "\id_A", bend left] & B \arrow[r, "g"'] & A & \text{and}& B \arrow[r, "g"'] \arrow[rr, "\id_B", bend left] & A \arrow[r, "f"'] & B
        \end{tikzcd}
    \]
    commute; i.e.,
    \[
        g \circ f = \id_A \text{ and } f \circ g = \id_B.
    \]
    The identity on the left tells us that \(g\) is a \emph{left inverse} of
    \(f\), while the identity on the right tells us that \(g\) is a \emph{right
    inverse} of \(f\). A function \(g\) satisfying both identities is called an
    \emph{inverse} of \(f\).

    Now suppose \(h\) is another function such that \(h \circ f = \id_A\) and
    \(f \circ h = \id_B\). Then
    \[
        g = g \circ \id_B = g \circ (f \circ h) = (g \circ f) \circ h = \id_A \circ h = h.
    \]
    Thus the inverse of a bijection is unique and we can speak of \emph{the}
    inverse of a bijection \(f\). We would usually denote this inverse by
    \(f^{-1}\). Now does the converse hold? That is, if \(f\) has an inverse, is
    \(f\) a bijection?
\end{sectionthm}

\begin{theorem}
    Let \(f: A \to B\) with \(A \neq \emptyset\). Then
    \begin{enumerate}[label=(\alph*)]
        \item \(f\) is injective if and only if it has a left inverse; and
        \item \(f\) is surjective if and only if it has a right inverse.
    \end{enumerate}
\end{theorem}

\begin{corollary}
    A function \(f: A \to B\) is a bijection if and only if it has an inverse.
\end{corollary}

\begin{proof}\(\)

    \begin{enumerate}[label=(\alph*), wide]
        \item Suppose \(f\) is injective. Fix some element \(s \in A\) (this is
        possible because \(A \neq \emptyset\) by assumption) and define the
        function \(g : B \to A\) by
        \[
            g(b) = \begin{cases}
                a & \text{if } f(a) = b, \\
                s & \text{if } b \notin \img f.
            \end{cases}
        \]
        Since \(f\) is injective, every \(b\) that is the image of some \(a \in
        A\) is the image of a unique \(a\) and thus \(g\) is well-defined. For
        all \(a \in A\),
        \[
            (g \circ f)(a) = g(f(a)) = a = \id_A(a).
        \]
        Thus \(g\) is a left inverse of \(f\).

        Conversely, suppose \(f\) has a left inverse \(g : B \to A\) with \(g
        \circ f = \id_A\). Let \(a, b \in A\) with \(a \neq b\). Then
        \[
            (g \circ f)(a) = \id_A(a) = a \neq b = \id_A(b) = (g \circ f)(b).
        \]
        This implies that \(f(a) \neq f(b)\) and thus \(f\) is injective.

        \item Suppose \(f\) is surjective. Then for all \(b \in B\), there
        exists an \(a \in A\) such that \(f(a) = b\). Define the function \(g :
        B \to A\) by sending each \(b \in B\) to some \(a \in A\) such that
        \(f(a) = b\). Since \(A \neq \emptyset\) and \(a\) need not be unique,
        we use the axiom of choice to select a unique \(a\) for each \(b\) in an
        arbitrary way. (We cannot let \(g(b)\) be a set of all \(a\) such that
        \(f(a) = b\) because then \(g\) would not be a function.) Then for all
        \(b \in B\),
        \[
            (f \circ g)(b) = f(g(b)) = f(a) = b = \id_B(b).
        \]
        Thus \(g\) is a right inverse of \(f\).

        Conversely, suppose \(f\) has a right inverse \(g : B \to A\) with \(f
        \circ g = \id_B\). Because \(\id_B\) is bijective (and hence
        surjective), \(f \circ g\) must be surjective and so must \(f\). This
        completes the proof.
    \end{enumerate}
\end{proof}

\begin{remark}
    The second part of the preceding proof require the axiom of choice. We also
    note that as we have seen in construction in the proof, the left and right
    inverses of a function are not unique.

    Another observation must be made: thus far our definition of injectivity and
    surjectivity relies on the property of sets consisting of `elements'. It is
    natural to ask then whether we can define these properties in a more general
    setting, i.e., without relying on the notion of elements and simply looking
    at the properties of the functions themselves. This is the motivation for
    the following definition.
\end{remark}

\begin{definition}
    \label{def:monomorphism-epimorphism-set}
    A function \(f: A \to B\) is a \emph{monomorphism} (or \emph{monic}) if for
    all sets \(X\) and all functions \(\alpha, \beta: X \to A\), if \(f \circ
    \alpha = f \circ \beta\), then \(\alpha = \beta\). Similarly \(f\) is an
    \emph{epimorphism} (or \emph{epic}) if for all sets \(Y\) and all functions
    \(\gamma, \delta: B \to Y\), if \(\gamma \circ f = \delta \circ f\), then
    \(\gamma = \delta\).
\end{definition}

\begin{theorem}
    \label{thm:injective-surjective-monomorphism-epimorphism}
    A function \(f: A \to B\) is injective if and only if it is a monomorphism.
    Similarly, \(f\) is surjective if and only if it is an epimorphism.
\end{theorem}

\begin{proof}
    Suppose \(f\) is injective. If \(A\) is empty then for all sets \(X\) there
    is no function \(\alpha: X \to A\), so the statement is vacuously true. We
    can then assume that \(A\) is nonempty. Then \(f\) has a left inverse \(g\)
    and for all sets \(X\) and all functions \(\alpha, \beta: X \to A\), if \(f
    \circ \alpha = f \circ \beta\), then 
    \[
        (g \circ f)\circ \alpha = (g \circ f) \circ \beta.
    \]
    But since \(g\) is a left inverse of \(f\), we have
    \[
        \id_A \circ\,\alpha = \id_A \circ\,\beta,
    \]
    from which we conclude that \(\alpha = \beta\). Thus \(f\) is a
    monomorphism. 
    
    Conversely, suppose \(f\) is a monomorphism. Then for all sets \(X\) and all
    functions \(\alpha, \beta: X \to A\), if \(f \circ \alpha = f \circ \beta\),
    then \(\alpha = \beta\). We need to show that for all \(a, b \in A\), if \(a
    \neq b\) then \(f(a) \neq f(b)\). Since the monomorphism property holds for
    all sets \(X\), we can take \(X = \{*\}\) and the functions \(\alpha, \beta:
    \{*\} \to A\) defined by \(\alpha(*) = a\) and \(\beta(*) = b\), with \(a
    \neq b\). This ensures that \(\alpha \neq \beta\) and thus \(f \circ \alpha
    \neq f \circ \beta\). But \(f \circ \alpha = f(a)\) and \(f \circ \beta =
    f(b)\), so we have \(f(a) \neq f(b)\) and thus \(f\) is injective.

    On the other hand, suppose \(f\) is surjective. Then if \(\gamma, \delta: B
    \to Y\) are functions such that \(\gamma \circ f = \delta \circ f\), then
    since \(f\) is surjective, for all \(b \in B\) there exists an \(a \in A\)
    such that \(f(a) = b\) and thus \(\gamma(b) = \gamma(f(a)) = \delta(f(a)) =
    \delta(b)\). This implies that \(\gamma = \delta\) and thus \(f\) is an
    epimorphism.

    Conversely, suppose \(f\) is an epimorphism. That is, for all sets \(Y\) and
    all functions \(\gamma, \delta: B \to Y\), if \(\gamma \circ f = \delta
    \circ f\), then \(\gamma = \delta\). Suppose that \(f\) is not surjective,
    i.e., \(\img f \neq B\). Let \(\gamma, \delta: B \to Y\) be functions that
    are equal for all \(b \in \img f\) but differ for some \(b \notin \img f\).
    Then \(\gamma \circ f = \delta \circ f\) but \(\gamma \neq \delta\), which
    contradicts the assumption that \(f\) is an epimorphism. Thus \(f\) is
    surjective.
\end{proof}

\begin{sectionthm}
    We review some examples of functions arising from basic set operations. We
    can rephrase our definition of set inclusion as a function. Given two sets
    \(A\) and \(B\) with \(A \subset B\), we call
    \[
        \iota: A \to B
    \]
    the \emph{inclusion function} defined by \(\iota(a) = a\) for all \(a \in
    A\). This is clearly injective. This function sends each element of \(A\) to
    itself as an element of \(B\). A more descriptive name for this function is
    the \emph{embedding} of \(A\) in \(B\).

    Given two sets \(A\) and \(B\) and their product \(A \times B\), the maps
    \[
        \begin{tikzcd}
            & A\times B \arrow[ld, "\pi_a"'] \arrow[rd, "\pi_b"] &   \\
          A &                                                    & B
          \end{tikzcd}
    \]
    defined by
    \[
        \pi_a(a, b) = a \text{ and } \pi_b(a, b) = b
    \]
    are called the \emph{projection maps} from \(A \times B\) to \(A\) and
    \(B\), respectively. These are surjective functions.
\end{sectionthm}


\section{Thinking in diagrams}
\label{sec:category-theory}

In \S~\ref{sec:set-functions} we have defined injective and surjective functions
in terms of their properties with respect to elements of sets. For example, we
have defined an injective function as one for which \(f(a) = f(b)\) implies \(a
= b\) (where \(a\) and \(b\) are elements in the domain of \(f\)). Moreover, we
have also established that this definition can be generalized without specific
reference to membership in a set: that is, a set function \(f: A \to B\) is
injective if for all sets \(X\) and all functions \(\alpha, \beta: X \to A\), if
\(f \circ \alpha = f \circ \beta\), then \(\alpha = \beta\). (In fact a function
\(f\) satisfying this latter property is a monomorphism, but we have shown that
this is equivalent to the property of injectivity when dealing with functions
between sets.) The advantage of the second definition is that it does not rely
on the notion of membership in a set, and can be applied to `functions' between
objects in a more general setting (if somehow we are able to define `functions'
between arbitrary objects).

% EXPAND SECTION ABOVE

\begin{definition}[Category]
    A \emph{category} \(\catg{C}\) consists of the following data:
    \begin{enumerate}[label=(\alph*), itemsep=0pt]
        \item A class \(\Obj{\catg{C}}\) of \emph{objects}.
        \item To each pair of objects \(A, B \in \Obj{\catg{C}}\), a set
        \(\Hom_{\catg{C}}(A, B)\) of \emph{morphisms} or \emph{arrows} from
        \(A\) to \(B\) satisfying the following properties:
        \begin{enumerate}[label=(\roman*), itemsep=0pt]
            \item For all \(A \in \Obj{\catg{C}}\), there exists at least one
            morphism \(\id_A \in \Hom_{\catg{C}}(A, A)\) called the
            \emph{identity morphism} on \(A\).
            
            \item There exists a composition law on morphisms: i.e., if \(A, B,
            C\) are objects in \(\catg{C}\), then \(f \in \Hom_{\catg{C}}(A,
            B)\) and \(g \in \Hom_{\catg{C}}(B, C)\) determine a morphism \(g
            \circ f \in \Hom_{\catg{C}}(A, C)\) called the \emph{composition} of
            \(f\) and \(g\). 
            
            \item This composition law is associative: i.e., for all \(A, B, C,
            D\) in \(\Obj{\catg{C}}\) and \(f \in \Hom_{\catg{C}}(A, B)\), \(g
            \in \Hom_{\catg{C}}(B, C)\), and \(h \in \Hom_{\catg{C}}(C, D)\), we
            have
            \[
                h \circ (g \circ f) = (h \circ g) \circ f.
            \]

            \item The identity morphisms are \emph{neutral} with respect to
            composition: i.e., for all \(A, B \in \Obj{\catg{C}}\) and \(f \in
            \Hom_{\catg{C}}(A, B)\), we have
            \[
                f \circ \id_A = f = \id_B \circ f.
            \]
        \end{enumerate}
    \end{enumerate}
\end{definition}

Note that we have not defined a category as a set of objects. Consider an object
whose categories are sets. Then since there is no `set of all sets' (cf.
Russell's paradox), we cannot define a category as a set of such objects. Now it
will be tempting to look at objects in a category as sets and morphisms (or
arrows) between the objects as functions between the sets. Indeed we shall often
do so (in a qualified manner) when dealing with concrete categories, i.e.,
categories whose objects, having removed any additional data about their
algebraic structure, can be identified with sets. While this might seem simpler,
`thinking in categories' helps us analyze the constructions by looking directly
at the objects and the morphisms between them.

As a simple example, consider our definition of a morphism. For the time being
let us call morphisms `arrows' to rid us the notion of any suggestive meaning
the word `morphism' might have. We have posited that in a category \(\catg{C}\),
any two objects \(A\) and \(B\) have a set of arrows \(\Hom_{\catg{C}}(A, B)\)
between them (satisfying some additional properties related to associativity and
identities) and an arrow is simply an element of this set. Contrast this with
our earlier definition of a function: we say that \(f\) is a function between
two sets \(A\) and \(B\) if for every element \(a \in A\) there exists a unique
element \(b \in B\) such that \((a, b) \in f\). We have been able to define
arrows in a manner that does not exactly rely on any intrinsic property of the
objects (in this case membership in a set) but rather on the relationships
between the objects. In this vein, studying categories focuses on the
relationship between the objects (the `arrows') rather than the objects
themselves.

Before we explore examples that show us the helpfulness of such abstraction, let
us first tread more familiar ground and show that sets and functions between
sets form a category.

\begin{example}
    We define \(\Set\) as the category whose objects are sets and whose
    morphisms are functions between sets. Set functions obey the axioms for
    morphisms in a category. The verifications are routine: the identity
    morphism is the identity function \(\id_A : A \to A\) for all sets \(A\);
    for any two functions \(f: A \to B\) and \(g: B \to C\), with \(A, B, C\)
    sets, the composition \(g \circ f\) is the composition of functions; in
    \S~\ref{sec:set-functions} we have shown that this composition is
    associative. Finally, for any function \(f: A \to B\), we have \(f \circ
    \id_A = f = \id_B \circ f\). Thus \(\Set\) is a category by our definition.
\end{example}

\begin{example}
    \label{ex:category-preordered-sets}
    Consider a set \(S\) and a relation \(\rho\) in \(S\) that is reflexive and
    transitive. That is \(a\rho a\) for all \(a \in S\) and if \(a\rho b\) and
    \(b\rho c\) then \(a\rho c\). We claim that we can define the category
    \(\catg{Ord}\) whose objects are the elements of \(S\) and whose morphisms
    are the elements of \(\rho\). We define a category \(\catg{Ord}\) as
    follows:
    \begin{enumerate}[label=(\alph*), itemsep=0pt]
        \item The objects of \(\catg{Ord}\) are the elements of \(S\).
        \item For all \(a, b \in S\), we define \(\Hom_{\catg{Ord}}(a, b)\) to
        be the ordered pair \((a, b)\) if \(a\rho b\) and the empty set
        otherwise.
    \end{enumerate}
    We claim that \(\catg{Ord}\) is a category. Let us verify this against the
    axioms of a category.

    Since \(\rho\) is reflexive (by definition), for all \(a \in S\) we have
    \(a\rho a\) and thus \((a, a) \in \Hom_{\catg{Ord}}(a, a)\). Now if \(f \in
    \Hom_{\catg{Ord}}(a, b)\) and \(g \in \Hom_{\catg{Ord}}(b, c)\), then the
    transitivity of \(\rho\) allows us to define a composition \(g \circ f \in
    \Hom_{\catg{Ord}}(b, c)\) which is precisely the element \((a, c)\) in
    \(\Hom_{\catg{Ord}}(a, c)\). If \(f \in \Hom_{\catg{Ord}}(a, b)\), \(g \in
    \Hom_{\catg{Ord}}(b, c)\), and \(h \in \Hom_{\catg{Ord}}(c, d)\), for all
    \(a, b, c, d \in S\), then 
    \[
        f = (a, b), \quad g = (b, c), \quad h = (c, d),
    \]
    and
    \[
        g \circ f = (a, c)\quad \text{and}\quad h \circ g = (b, d),
    \]
    by the transitivity of \(\rho\) and thus
    \[
        h \circ (g \circ f) \implies a \rho c \land c \rho d \implies a \rho d
    \]
    and
    \[
        (h \circ g) \circ f \implies a \rho b \land b \rho d \implies a \rho d,
    \]
    again by the transitivity of \(\rho\), thus proving associativity.

    Finally, for all \(a \in S\), we have \(\id_a = (a, a)\) as established
    earlier, and thus
    \[
        f \circ \id_a \implies a \rho a \land a \rho b \implies a \rho b
    \]
    and
    \[
        \id_b \circ f \implies a \rho b \land b \rho b \implies a \rho b,
    \]
    so that the identity morphisms are neutral with respect to composition. Thus
    \(\catg{Ord}\) is indeed a category. This category is often called the
    \emph{category of preordered sets}.

    As a concrete example, consider the set \(\Z\) of integers and the relation
    \(\leq\) (this is both reflexive and transitive). A diagram in this category
    would look like
    \[
        \begin{tikzcd}
            2 \arrow[r] & 3 \arrow[r] \arrow[d, "\id_3"'] & 8 \arrow[r]            & 9 \\
                        & 3 \arrow[r] \arrow[ru]          & 4 \arrow[u] \arrow[ru] &  
        \end{tikzcd}
    \]
    If we write \(3\) for the object \(3\) in the first row and \(3'\) for the
    same object in the second row, we can reverse the arrow denoted by \(\id_3\)
    and the diagram will still commute. We have, for example \(3' \to 3 \to 8\)
    and \(3' \to 8\); but we cannot, reverse the arrow from \(3\) to \(8\)
    because \(8 \to 3\) is not true with respect to the relation \(\leq\).

    A more trivial example is to consider instead of \(\leq\) the relation \(=\)
    (this is again reflexive and transitive). Then the category \(\catg{Ord}\)
    would have only identity morphisms and no other morphisms. Categories of
    this form are called \emph{discrete categories}.

    As a final variation on this theme, consider a set \(S\) and let
    \(\catg{\hat{S}}\) be the category whose objects are elements of the power
    set \(\mathcal{P}(S)\) of \(S\) and whose morphisms are defined by the
    subset relation \(\subset\). (We are taking some liberty when we say
    `relation' here since we have only defined a `relation' in terms of elements
    of a set.) First observe that \(A \subset A\) and \(A \subset B\) and \(B
    \subset C\) implies \(A \subset C\) so that \(\subset\) is reflexive and
    transitive. More specifically, we define \(\Hom_{\catg{\hat{S}}}(A, B)\) to
    contain the pair \((A, B)\) if \(A \subset B\) and the empty set otherwise.
    Verifying the axioms of a category is straightforward (following our earlier
    example) and we see that \(\catg{\hat{S}}\) is a category. While this might
    appear first as another flavor of the category of preordered sets, we must
    note that the objects in this category are not elements of a set but rather
    sets themselves.
\end{example}

\begin{example}[Slice category]
    \label{ex:slice-category}
    Let us now look at a more abstract example but one that will help us dispel
    the notion that objects in a category are just sets in disguise. Let
    \(\catg{C}\) be a category and let \(A\) be an object of \(\catg{C}\). We
    shall now construct a category \(\catg{C}_A\) whose objects are some
    morphisms in \(\catg{C}\) (and since we are dealing with morphisms, there is
    no inherent notion of `elements' in these objects) and whose morphisms are
    certain diagrams of morphisms in \(\catg{C}\). We define \(\catg{C}_A\) as
    follows:
    \begin{enumerate}[label=(\alph*), itemsep=0pt, wide]
        \item The objects of \(\catg{C}_A\) are all morphisms in \(\catg{C}\)
        with codomain \(A\). Graphically, each object of \(\catg{C}_A\) is an
        arrow from some object \(X\) to \(A\) (usually written top down):
        \[
            \begin{tikzcd}
                X \arrow[d, "f"'] \\
                A                
            \end{tikzcd}
        \]
        \item If \(f_1 : X \to A\) and \(f_2 : Y \to A\) (where \(X, Y \in
        \Obj{\catg{C}}\)) are two arrows in \(\catg{C}_A\), i.e.,
        \[
            \begin{tikzcd}
                X \arrow[d, "f_1"'] &  & Y \arrow[d, "f_2"'] \\
                A                   &  & A                  
            \end{tikzcd}
        \]
        then we define \(\Hom_{\catg{C}_A}(f_1, f_2)\) to be the set of all
        morphisms \(g \in \Hom_{\catg{C}}(X, Y)\) such that the diagram
        \[
            \begin{tikzcd}
                X \arrow[rr, "g"] \arrow[rd, "f_1"'] &   & Y \arrow[ld, "f_2"] \\
                                                                    & A &                    
                \end{tikzcd}
        \]
        commutes (in the `ambient' category \(\catg{C}\)). That is, \(f_1 \to
        f_2\) correspond to morphisms \(g : X \to Y\) in \(\catg{C}\) such that
        \(f_2 \circ g = f_1\).
    \end{enumerate}
    
    For each \(X \in \Obj{\catg{C}}\), the identity morphism \(\id_X\) is
    inherited from \(\catg{C}\) and corresponds to the diagram
    \[
        \begin{tikzcd}
            X \arrow[rr, "\id_X"] \arrow[rd, "f"'] &   & X \arrow[ld, "f"]\\
                                                                    & A &
        \end{tikzcd}
    \]
    which commutes because \(\catg{C}\) is a category. The composition \(f_1 \to
    f_2 \to f_3\) corresponds to juxtaposing the diagrams \(f_1 \to f_2\) and
    \(f_2 \to f_3\), viz.,
    \[
        \begin{tikzcd}
            X \arrow[rd, "f_1"'] \arrow[r, "g"] & Y \arrow[d, "f_2"] \arrow[r, "h"] & Z \arrow[ld, "f_3"] \\
            & A &                    
        \end{tikzcd}
    \]
    where again \(f_1: X \to A\), \(f_2: Y \to A\), and \(f_3: Z \to A\) for
    objects \(X, Y, Z\) of \(\catg{C}\). Because \(\catg{C}\) is a category, the
    diagram above commutes and we have \(h \circ g : X \to Z\) in \(\catg{C}\).
    Removing the middle arrow gives us
    \[
        \begin{tikzcd}
            X \arrow[rr, "h \circ g"] \arrow[rd, "f_1"'] &   & Z \arrow[ld, "f_3"] \\
                                                                    & A &
        \end{tikzcd}
    \]
    which is a morphism in \(\catg{C}_A\). Given another morphism \(k : W \to
    X\) and \(f_4 : W \to A\) for some object \(W\) of \(\catg{C}\), we can form
    the diagram
    \[
        \begin{tikzcd}
            W   \arrow[rrd, "f_4"']
                \arrow[r, "k"]
            & X \arrow[rd, "f_1"]
                \arrow[rr, "g"]&   & Y \arrow[ld, "f_2"'] \arrow[r, "h"] & Z \arrow[lld, "f_3"] \\
                & & A & &                     
        \end{tikzcd}
    \]
    which again commutes by the associativity of composition in \(\catg{C}\).
    Finally, from the definition of \(\id_X\) and \(\id_Y\) in \(\catg{C}\) we
    have the diagrams
    \[
        \begin{tikzcd}
            X \arrow[rd, "f_1"']
            \arrow[r, "\id_X"] &
            X \arrow[d, "f_1"']
            \arrow[r, "g"] & Y \arrow[ld, "f_2"] & \text{and}  & X \arrow[r, "g"] \arrow[rd, "f_1"'] & Y \arrow[r, "\id_Y"] \arrow[d, "f_2"'] & Y \arrow[ld, "f_2"] \\
                                                    & A                                  &                     &  &                                     & A                                      &                    
            \end{tikzcd}
    \]
    which again commute because \(\catg{C}\) is a category and thus
    \[
        g \circ \id_X = g = \id_Y \circ g.
    \]
    
    This proves that \(\catg{C}_A\) is a category. Categories constructed in
    this manner are called \emph{slice categories}.

    Let us try to construct a comma category from the category we have defined
    on \(\Z\) with the relation \(\leq\) in
    Example~\ref{ex:category-preordered-sets}. Call this category \(\catg{C}\)
    and choose an object, say \(A = 3\), in this category. Then the objects of
    \(\catg{C}_A\) are morphisms in \(\catg{C}\) with target \(3\), i.e.,
    ordered pairs in \(\Z \times \Z\) of the form \((k, 3)\) where \(k \leq 3\).
    If \(m\) and \(n\) are objects in this category, then the diagram
    \[
        \begin{tikzcd}
            m \arrow[rd] \arrow[rr, "f"] &   & n \arrow[ld] \\
                                         & 3 &             
            \end{tikzcd}
    \]
    commutes if and only if \(f\) is a morphism \((m, n)\) in \(\catg{C}\)
    (where again \(m, n \leq 3\)); more explicitly, the diagram commutes if and
    only if \(m \leq n\).
\end{example}

\begin{example}[Coslice category]
    \label{ex:coslice-category}
    On the other hand, consider a category \(\catg{C}\) and an object \(A\) of
    this category. Let us now construct a category whose morphisms are morphisms
    in \(C\) from \(A\) to some other object \(X\) of \(\catg{C}\). Consider the
    category \(\Set\) and the singleton \(\{*\}\) which is an object of this
    category. We will call the resulting category \(\catg{Set_*}\).

    The objects of \(\catg{Set_*}\) will then be morphisms in \(\Set\) of the
    form \(f: \{*\} \to X\) for some set \(X\). Each morphism (in \(\Set\)) of
    this type fixes an element \(x \in X\); i.e., \(f\) determines a unique
    element \(x \in X\) and \(x\) determines \(f\). Thus we can denote the
    objects of \(\catg{Set_*}\) to be the elements of the ordered pairs \((X,
    x)\).

    A morphism in \(\catg{Set_*}\) is then a `function' between two objects
    \((X, x)\) and \((Y, y)\) in \(\catg{Set_*}\). Since \(x \in X\) and \(y \in
    Y\), this morphism is a set function \(f : X \to Y\) such that \(f(x) = y\)
    and thus the use of the term `function' is justified. If \(f : (X, x) \to
    (Y, y)\) and \(g : (Y, y) \to (Z, z)\) are two morphisms in
    \(\catg{Set_*}\), then their composition is defined as the usual composition
    of functions; since \(f(x) = y\) and \(g(y) = z\), we have \(g \circ f(x) =
    g(f(x)) = g(y) = z\). The associativity of this composition follows
    similarly from the associativity of the composition of functions.

    The identity morphism on an object \((X, x)\) is the function \(\id_X : X
    \to X\) and thus \(\id_X(x) = x\). The identity morphism is neutral with
    respect to composition because for all \(f : (X, x) \to (Y, y)\) we have \(f
    \circ \id_X = f = \id_Y \circ f\). Thus \(\catg{Set_*}\) is a category.

    We call \(\catg{Set_*}\) the \emph{category of pointed sets}. Each object in
    this category is a set with a distinguished element (also called the
    \emph{base point}) and a morphism between two objects is a function between
    the sets that `preserves' the base point, i.e., by sending the base point of
    the first set to the base point of the second set. The category of pointed
    sets is an example of a \emph{coslice category}, which we construct by
    fixing an object in a category and considering morphisms to other objects in
    the category. The construction is similar to the construction of slice
    categories in Example~\ref{ex:slice-category}. We denote the coslice
    category of an object \(A\) in a category \(\catg{C}\) by \(\catg{C}^{A/}\).
\end{example}

\begin{example}
    Given two objects \(A\) and \(B\) of a category \(\catg{C}\) we know
    construct a new category \(\catg{C}_{A, B}\) whose objects are diagrams of
    \(\catg{C}\) of the form
    \[
        \begin{tikzcd}
                    & A \\
        X \arrow[rd, "g"'] \arrow[ru, "f"] &   \\
                    & B
        \end{tikzcd}
    \]
    for some object \(X\) of \(\catg{C}\). The morphisms are then given by
    arrows from one such diagram to another, i.e.,
    
\end{example}

\begin{example}[Opposite category]
    Let \(\catg{C}\) be a category and consider a structure \(\catg{C}^\op\)
    with \(\Obj{\catg{C}^\op} = \Obj{\catg{C}}\) and for all objects \(A\) and
    \(B\) of \(\catg{C}\),
    \[
        \Hom_{\catg{C}^\op}(A, B) = \Hom_{\catg{C}}(B, A).
    \]
    Intuitively, we can construct \(\catg{C}^\op\) by reversing the direction of
    all the arrows in \(\catg{C}\), i.e., if \(A \to B\) is an arrow in
    \(\catg{C}\), then \(B \to A\) is an arrow in \(\catg{C}^\op\). That
    \(\catg{C}^\op\) is a category follows directly from \(\catg{C}\) being a
    category. Indeed, for any object \(A\) of \(\catg{C}\), since
    \(\Obj{\catg{C}^\op} = \Obj{\catg{C}}\), it follows that
    \(\Hom_{\catg{C}^\op}(A, A) = \Hom_{\catg{C}}(A, A)\) and thus the identity
    morphism \(\id_A\) in \(\catg{C}\) coincides with the identity morphism in
    \(\catg{C}^\op\). If we write \(\circ\) for the composition in
    \(\catg{C}^\op\) and \(*\) for the composition in \(\catg{C}\), then for all
    objects \(A, B, C\) of \(\catg{C}^\op\) and all morphisms \(f \in
    \Hom_{\catg{C}^\op}(A, B) = \Hom_{\catg{C}}(B,A)\) and \(g \in
    \Hom_{\catg{C}^\op}(B, C) = \Hom_{\catg{C}}(C, B)\), the composition law in
    \(\catg{C}\) determines a morphims \(f * g\) through which we can deduce the
    composition law in \(\catg{C}^\op\), viz.,
    \begin{align*}
        \Hom_{\catg{C}^\op}(A, B) \times \Hom_{\catg{C}^\op}(B, C) &\to \Hom_{\catg{C}^\op}(A, C)\\
        (f, g) &\mapsto g \circ f = f * g.
    \end{align*}
    Moreover, if \(f \in \Hom_{\catg{C}^\op}(A, B)\), \(g \in
    \Hom_{\catg{C}^\op}(B, C)\), and \(h \in \Hom_{\catg{C}^\op}(C, D)\) (\(A,
    B, C, D\) objects of \(\catg{C}^\op\)), then the associativity of
    composition in \(\catg{C}\) implies that
    \[ 
        f \circ (g \circ h) = f \circ (h * g) = (h * g) * f = h * (g * f) = (g * f) \circ h = (f \circ g) \circ h.
    \]
    Finally, for all \(f \in \Hom_{\catg{C}^\op}(A, B)\) we have
    \[
        f \circ \id_A = \id_A * f = f = f * \id_B = \id_B \circ f.
    \]
    This gives us a full construction of \(\catg{C}^\op\). We call
    \(\catg{C}^\op\) the \emph{opposite category} of the category \(\catg{C}\).
\end{example}

% MORPHISMS

\bigskip

We now look at morphisms in a category in more detail. Recall that in
\S~\ref{sec:set-functions} we have begun a taxonomy of functions by defining the
notions of `injective,' `surjective,' and `bijective' functions. We wish now to
extend this classification to arbitrary categories. However, as we have remarked
at the start of this section, since the notion or `injectivity' relies on the
notion of an element's membership in a set, we cannot directly extend this
definition to categories. Indeed, in Example~\ref{ex:slice-category} we have
constructed a category whose objects are morphisms in another category; how then
can one define `injectivity' if the statement `\(f\) is injective if and only if
for all \(x, y \in X\), \(f(x) = f(y)\) implies \(x = y\)' does not even make
sense given that we cannot say that \(x\) and \(y\) are elements of a morphism
in an arbitrary category? 

\begin{definition}[Isomorphism]
    A morphism \(f: A \to B\) in a category \(\catg{C}\) is an
    \emph{isomorphism} if there exists a morphism \(g: B \to A\) such that \(g
    \circ f = \id_A\) and \(f \circ g = \id_B\). If such a morphism \(g\) exists
    then we say that \(A\) and \(B\) are \emph{isomorphic} and write \(A \cong
    B\).
\end{definition}

Observe that this definition does not rely on the notion of membership in a set.
Instead, in a vein similar to Definition~\ref{def:monomorphism-epimorphism-set}.
we have defined an isomorphism in terms of its relations with another morphism
in the category. For a set function \(f : X \to Y\), we have shown that for
\(f\) to be a bijection there must exist another set function \(g: Y \to X\)
whose composition \(g \circ f\) maps every element of \(X\) to itself; that is,
\(g \circ f\) must be the identity function of \(X\). We can establish a similar
argument (taking away the need for the notion of membership in a set) to
establish the following result:

\begin{theorem}
    \label{thm:isomorphism-unique-inverse-category}
	The inverse of an isomorphism is unique.
\end{theorem}

\begin{proof}
	Let \(f : A \to B\) be a morphism in a category \(\catg{C}\), and let
	\(g_1\) and \(g_2\) be inverses of \(f\). Then by the definition of an
	isomorphism, we have
    \[
        g_1 \circ f = \id_A \quad \text{and} \quad f \circ g_1 = \id_B.
    \]
    It then follows that
    \[
        g_1 = g_1 \circ \id_B = g_1 \circ (f \circ g_2) = (g_1 \circ f) \circ g_2 = \id_A \circ g_2 = g_2.
    \]
\end{proof}

Since the inverse \(g\) is uniquely determined by the isomorphism \(f\), we can
denote this inverse by \(f^{-1}\) without ambiguity. The following properties of
isomorphisms are immediate from the definition:

\begin{theorem}
    Let \(\catg{C}\) be a category.
    \begin{enumerate}[label=(\alph*), itemsep=0pt]
        \item For each object \(A\) in \(\catg{C}\), the identity morphism
        \(\id_A\) is an isomorphism and is its own inverse.
        \item If \(f: A \to B\) is an isomorphism, then its inverse \(f^{-1}\)
        is also an isomorphism and \((f^{-1})^{-1} = f\).
        \item If \(f : A \to B\) and \(g : B \to C\) are isomorphisms, then so
        is \(g \circ f\) and \((g \circ f)^{-1} = f^{-1} \circ g^{-1}\).
    \end{enumerate}
\end{theorem}

\begin{proof}
    We prove each statement for completeness. (a) Observe that \(\id_A \circ
    \id_A = \id_A\). (b) Note that \(f \circ f^{-1} = \id_B\) and \(f^{-1} \circ
    f = \id_A\) implies that \(f^{-1}\) is an isomorphism whose inverse is
    \(f\). (c) Finally, we have
    \begin{align*}
        (f^{-1} \circ g^{-1}) &\circ (g \circ f)\\
        &= f^{-1} \circ (g^{-1} \circ g) \circ f = f^{-1} \circ \id_B \circ f = f^{-1} \circ f = \id_A.
    \end{align*}
    The proof that \(f^{-1} \circ g^{-1}\) is a right inverse of \(g \circ f\)
    follows similarly.
\end{proof}

The results of \S~\ref{sec:set-functions} tell us that bijections are precisely
the isomorphisms in the category \(\Set\). In the category \(\catg{Ord}\)
obtained from the relation \(\leq\) on \(\Z\) (as in
Example~\ref{ex:slice-category}) the only isomorphisms are the identity
morphisms. On the other hand, a category in which every morphism is an
isomorphism is called a \emph{groupoid}. Let us construct a groupoid by first
considering the category \(\catg{Ord}\) obtained from a set \(S\) and a relation
\(\sim\) on \(S\) that is reflexive and transitive (we have constructed this
category in Example~\ref{ex:category-preordered-sets}). Now suppose that
\(\sim\) is also symmetric (i.e., an equivalence relation). Then we have
\[
    (a, b) \in \Hom_{\catg{Ord}}(a, b) \implies a \sim b \implies b \sim a \implies (b, a) \in \Hom_{\catg{Ord}}(b, a).
\]
Now since
\[
    (a, b) \circ (b, a) = (a, a) = \id_a \quad \text{and} \quad (b, a) \circ (a, b) = (b, b) = \id_b,
\]
it follows that \((a, b)\) is an isomorphism with inverse \((b, a)\). Since
\((a, b)\) was arbitrarilly chosen, we see that every morphism in \(\catg{Ord}\)
is an isomorphism and thus \(\catg{Ord}\) is a groupoid.

Having earlier characterized monomorphisms and epimorphisms in \(\Set\) in
Definition~\ref{def:monomorphism-epimorphism-set} fully in terms of other set
functions (without reference to elements of sets), we can now extend these
definitions nicely to arbitrary categories. Our insistence to present
Definition~\ref{def:monomorphism-epimorphism-set} in that manner now appear
justified: indeed, observe that the definition we now give is the same as our
previous definition, with the only difference being that we have replaced the
reference to objects of \(\Set\) with a more general reference to objects of an
arbitrary category \(\catg{C}\).

\begin{definition}
    \label{def:monomorphism-epimorphism-category}
    A morphism \(f: A \to B\) in a category \(\catg{C}\) is a
    \emph{monomorphism} if for all objects \(X\) and morphisms \(g, h: X \to
    A\), \(f \circ g = f \circ h\) implies \(g = h\). A morphism \(f: A \to B\)
    is an \emph{epimorphism} if for all objects \(Y\) and morphisms \(g, h: B
    \to Y\), \(g \circ f = h \circ f\) implies \(g = h\).
\end{definition}

In Theorem~\ref{thm:injective-surjective-monomorphism-epimorphism}, we have
already shown that monomorphisms and epimorphisms in \(\Set\) are precisely the
injective and surjective functions, respectively. In
Example~\ref{ex:category-preordered-sets}


%%% UNIVERSAL PROPERTIES
\section{Universal properties}

Consider the set product \(A \times B\) and the projections \(\pi_1: A \times B
\to A\) and \(\pi_2: A \times B \to B\). Suppose that \(X\) is another set and
\(f_A : X \to A\) and \(f_B : X \to B\) are set functions. A `natural' way to
compose these functions into a single function \(f: X \to A \times B\) is to
define \(f(x) = (f_A(x), f_B(x))\). This gives us
\[
    f_A = \pi_1 \circ f \quad \text{and} \quad f_B = \pi_2 \circ f.
\]
Graphically, this is the commutative diagram
\begin{equation}
    \label{eq:set-product-universal-property}
    \begin{tikzcd}
        & X \arrow[ld, "f_A"'] \arrow[rd, "f_B"] \arrow[d, "f"] &   \\
      A & A \times B \arrow[r, "\pi_B"'] \arrow[l, "\pi_A"]     & B
      \end{tikzcd} 
\end{equation}
But is \(f\) then the only possible function satisfying this property?

Examples like this one motivate the notion of a `universal property' in category
theory which we shall discuss in detail in this section. While this particular
example considers the set product and functions between sets, category theory
allows us to generalize this notion to arbitrary categories and morphisms. But
before we proceed, we consider another familiar example.

Let us look again at the category \(\Set\). Observe that for any set \(X\),
there is exactly one set function from the empty set \(\emptyset\) to \(X\),
i.e., the empty map. If we consider a singleton \(\{*\}\), then there are as
many maps \(\{*\} \to X\) as there are elements in \(X\). For any other \(Y\)
then the number of maps \(Y \to X\) is merely an exercise in permutations. Thus
the property of having exactly one map from itself to any other set is a
`universal' property of the empty set. Before defining exactly what this means,
we begin with a simpler claim; we say that the empty set is an `initial object'
in the category \(\Set\). We define this formally as follows.

\begin{definition}
    An \emph{initial object} in a category \(\catg{C}\) is an object \(A\) such
    that for every object \(X\) of \(\catg{C}\) there is a unique morphism from
    \(A\) to \(X\). Similarly, a \emph{terminal object} in a category
    \(\catg{C}\) is an object \(B\) such that for every object \(X\) of
    \(\catg{C}\) there is a unique morphism from \(X\) to \(B\). An object that
    is both initial and terminal is called a \emph{zero object}.
\end{definition}

The statement `the empty set is an initial object in \({\Set}\)' then means that
for any set \(X\), there is exactly one set function from the empty set to \(X\)
(this is the empty map). Initial and terminal objects do not necessarily exist
in a category. (If they exist, however, it should be apparent that an initial
object in a category \(\catg{C}\) is terminal in \(\catg{C}^\op\) and vice
versa.) For example, the category \(\catg{Ord}\) constructed from the relation
\(\leq\) on \(\Z\) (as in Example~\ref{ex:category-preordered-sets}) has no
initial object: there is no integer \(i\) such that \(i \leq n\) for all
integers \(n\). Similarly, a terminal object in this category would be an
integer \(t\) greater than every other integer, which again does not exist.

If such initial/terminal objects exist, they are not necessarily unique. For
example, in \(\Set\), the singleton \(\{*\}\) is a final object. Indeed, for any
set \(X\), there is exactly one set function from \(X\) to \(\{*\}\), i.e., the
constant map if \(X\) is not empty and the empty map otherwise. However
\(\{*\}\) is not a unique object; e.g., if \(\{a\}\) and \(\{b\}\) are also
singletons, then any constant map from a set \(X\) to \(\{a\}\) or \(\{b\}\) is
also unique. However, there is a bijection from one singleton to another, i.e.,
all singletons are isomorphic to each other. This observation can be formalized
in the following result:

\begin{theorem}
    \label{thm:initial-terminal-unique}
    Let \(\catg{C}\) be a category. An initial (resp. terminal) object in
    \(\catg{C}\) is unique up to isomorphism.
\end{theorem}

\begin{proof}
    Suppose \(I\) and \(J\) are both initial objects in a category \(\catg{C}\).
    Since \(I\) is initial, there is a unique morphism \(f: I \to J\).
    Similarly, since \(J\) is initial, there is a unique morphism \(g: J \to
    I\). But then \(g \circ f: I \to I\); but this must be the identity morphism
    because since \(\catg{C}\) is a category \(\Hom_{\catg{C}}(I, I)\) must
    contain at least one morphism, and since \(I\) is initial, this morphism
    must be unique. Thus \(g \circ f = \id_{I}\). Similarly, \(f \circ g =
    \id_{J}\) and thus \(I\) and \(J\) are isomorphic. The proof for terminal
    objects is similar.
\end{proof}

\begin{theorem}
    \label{thm:isomorphic-objects-initial-terminal}
    Given two isomorphic objects \(I \cong J\) of a category \(\catg{C}\), if
    \(I\) is an initial (resp. terminal) object then so is \(J\).
\end{theorem}

\begin{proof}
    Suppose (a) \(I\) is initial and (b) \(I \cong J\). For any object \(X\) of
    \(\catg{C}\), there is a unique morphism \(f: I \to X\) because \(I\) is
    inital. By (a) and (b), the morphism \(g: I \to J\) is unique. Let \(h\) be
    any morphism from \(J\) to \(X\); then \(h \circ g: I \to X\), but by the
    uniqueness of \(f\) we must have \(h \circ g = f\). Since \(g\) is an
    isomorphism, we can define the inverse \(g^{-1}: J \to I\) and thus \(h = f
    \circ g^{-1}\). We claim that \(h\) is unique. Suppose \(h_1\) and \(h_2\)
    are two morphisms from \(J\) to \(X\). Then \(h_1 \circ g = f = h_2 \circ
    g\) and thus \(h_1 = h_2\). Thus \(J\) is an initial object. The proof for
    terminal objects is analogous.
\end{proof}

The results in Theorems~\ref{thm:initial-terminal-unique} and
\ref{thm:isomorphic-objects-initial-terminal} tell us that initial (resp.
terminal) objects in a category are distinguished objects in a category in the
sense that given any arrow \(f : X \to Y\) between two objects of a category
\(\catg{C}\) with initial (and/or terminal) objects then there is a
decomposition of \(f\) in terms of the morphisms from an initial object or to a
terminal object uniquely determined by \(f\); that is, we can always find
diagrams of the form
\[
    \begin{tikzcd}
        I \arrow[d, "\phi_X"'] \arrow[r, "\phi_Y"] & Y &  \text{and} & T                                      & Y \arrow[l, "\tau_Y"'] \\
        X \arrow[ru, "f"']                         &   &   & X \arrow[u, "\tau_X"] \arrow[ru, "f"'] &                       
        \end{tikzcd}
\]
that commute, provided that the category has initial and/or terminal objects.
Thus if we are able to look at an algebraic construction and show that it is an
initial or terminal object in a category, then we have shown that the
construction is unique up to isomorphism and gives us useful results about the
construction and related objects. We use this as our informal definition of a
`universal property,' since we do not yet have the necessary machinery to define
this formally. To wit,
\begin{quotation}
    We say that a construction \(X\) satisfies a universal property if it is a
    terminal object in a category.
\end{quotation}
What this category is would usually be defined when explaining a universal
property. While this definition might seem nebulous at first, let us consider
some examples to illustrate this concept.

\begin{example}
    We return to the problem posited at the start of this section. We have asked
    whether, given the diagram
    \[
    \begin{tikzcd}
        & X \arrow[ld, "f_A"'] \arrow[rd, "f_B"] \arrow[d, "f"] &   \\
      A & A \times B \arrow[r, "\pi_B"'] \arrow[l, "\pi_A"]     & B
      \end{tikzcd} 
    \]
    with the notation as before, the set function \(f\) is unique.

    Let us try to approach this problem from a category-theoretic perspective.
    First, some definitions are in order. Given a category \(\catg{C}\), a
    `wedge' between two objects \(A\) and \(B\) is a diagram of the form
    \[
        \begin{tikzcd}
            A & X \arrow[r, "f_2"] \arrow[l, "f_1"'] & B
            \end{tikzcd}
    \]
    where \(X\) is another object of \(\catg{C}\) and \(f_1: X \to A\) and
    \(f_2: X \to B\) are morphisms in \(\catg{C}\). Write \((X, f_1, f_2)\) for
    the wedge defined in the diagram above. Now recall that \(\catg{C}_A\) and
    \(\catg{C}^A\) are the slice and coslice categories of \(\catg{C}\) with
    respect to an object \(A\). We now construct a category \(\catg{C}^A_B\)
    whose objects are precisely the wedges between \(A\) and \(B\). The
    morphisms in this category are defined as follows: given two wedges \((X,
    f_1, f_2)\) and \((Y, g_1, g_2)\), a morphism \(h: (X, f_1, f_2) \to (Y,
    g_1, g_2)\) is a morphism \(h: X \to Y\) in \(\catg{C}\) such that the
    diagram
    \[
        \begin{tikzcd}
            & X \arrow[ld, "f_1"'] \arrow[rd, "f_2"] \arrow[d, "h"] &   \\
          A & Y \arrow[r, "g_2"'] \arrow[l, "g_1"]     & B
          \end{tikzcd}
    \]
    commutes. The verification that \(\catg{C}^A_B\) is a category can be done
    in an analogous way as we did when introducing the slice category.

    With the notation in place, we are now able to state the universal property
    of the product: given a category \(\catg{C}\) and objects \(A\) and \(B\) of
    \(\catg{C}\), the product of \(P:= A \times B\) of \(A\) and \(B\) is a
    terminal object in the category \(\catg{C}^A_B\). By our definition of a
    terminal object, we have the following more explicit definition:
          \begin{quotation}
            A product of two objects \(A\) and \(B\) in a category \(\catg{C}\)
            is an object \(P\) of \(\catg{C}\) such that for every object \(X\)
            of \(\catg{C}\) and every pair of morphisms \(f_1: X \to A\) and
            \(f_2: X \to B\), there is a unique morphism \(f: X \to P\) such
            that the diagram
            \[
                \begin{tikzcd}
                    & X \arrow[ld, "f_1"'] \arrow[rd, "f_2"] \arrow[d, "f"] &   \\
                  A & P \arrow[r, "\pi_B"'] \arrow[l, "\pi_A"]     & B
                  \end{tikzcd}
            \]
            commutes.
          \end{quotation}
    Implicit in this definition of course is the fact that since \(P\) defined
    in terms \(\catg{C}^A_B\), there are always morphisms \(\pi_A: P \to A\) and
    \(\pi_B: P \to B\) in \(\catg{C}\) that gives us the wedge \((P, \pi_A,
    \pi_B)\). We also note that this wedge and not the object \(P\) alone is
    the terminal object in \(\catg{C}_A^B\); for the sake of convenience, we
    would, however refer to \(P\) as the product when we mean the wedge \((P,
    \pi_A, \pi_B)\). Lastly, since the existence of terminal objects are not
    guaranteed in all categories, products are not necessarily defined in all
    categories.

    In order to show that the function \(f\) at the beginning of this section is
    unique in terms of making the diagram in
    \eqref{eq:set-product-universal-property} commute, we can show that the set
    product \(A \times B\) satisfies the universal property for products in
    \(\Set\). Now given the set product \(A \times B\), the projections \(\pi_A:
    A \times B \to A\) and \(\pi_B: A \times B \to B\) tell us that \((A \times
    B, \pi_A, \pi_B)\) is a wedge between \(A\) and \(B\). Further, given any
    wedge \((X, f_A, f_B)\), we have defined the function
    \[
          f: X \to A \times B \quad \text{by} \quad x \mapsto (f_A(x), f_B(x)).
    \]
    Suppose now that this is not unique, i.e., there is another function \(g: X
    \to A \times B\) such that
    \[
        f_A = \pi_A \circ g \quad \text{and} \quad f_B = \pi_B \circ g.
    \]
    Then for all \(x \in X\), we have
    \[
        \pi_A(g(x)) = f_A(x) = \pi_A(f(x)) \quad \text{and} \quad \pi_B(g(x)) = f_B(x) = \pi_B(f(x)).
    \]
    Since \(g(x) \in A \times B\), the equalities above tell us that \(g(x) =
    (f_A(x), f_B(x)) = f(x)\) and thus \(g = f\). Thus the function \(f\) is
    unique and the set product \(A \times B\) satisfies the universal property
    for products in \(\Set\).

    Now what do we know about the product \(B \times A\)? In \(\Set\) at least,
    \(B \times A \cong A \times B\) and
    Theorem~\ref{thm:isomorphic-objects-initial-terminal} tells us that \(B
    \times A\) is also a terminal object in the wedge category \(\Set^A_B\), and
    thus a product in \(\Set\). But does this hold for every category? Let
    \(\catg{C}\) be a category where products are defined and suppose \((P_1,
    \pi_A, \pi_B)\), \((P_2, \rho_a, \rho_B)\) are products of \(A\) and \(B\)
    in \(\catg{C}\). Then by the universal property of products, there are
    unique morphisms \(\sigma : P_1 \to P_2\) and \(\tau : P_2 \to P_1\) such that the
    diagrams below commute:
    \[
        \begin{tikzcd}
            & P_1 \arrow[ld, "\pi_A"'] \arrow[rd, "\pi_B"] \arrow[d, "\sigma"] &   &   & P_2 \arrow[ld, "\rho_A"'] \arrow[rd, "\rho_B"] \arrow[d, "\tau"] &   \\
          A & P_2 \arrow[l, "\rho_A"] \arrow[r, "\rho_B"']                     & B & A & P_1 \arrow[l, "\pi_A"] \arrow[r, "\pi_B"']                       & B
          \end{tikzcd}
    \]
    This means that
    \[
          \pi_A = \rho_A \circ \sigma \quad \text{and} \quad \pi_B = \rho_B \circ \sigma
    \]
    and similarly,
    \[
          \rho_A = \pi_A \circ \tau \quad \text{and} \quad \rho_B = \pi_B \circ \tau.
    \]
    Combining this equalities and using the uniqueness of \(\sigma\) and \(\tau\) we then have \(\sigma \circ \tau = \id_{P_2}\) and \(\tau \circ \sigma = \id_{P_1}\). Thus \(P_1 \cong P_2\), i.e., products are unique up to isomorphism. Taking \(A \times B := (A \times B, \pi_1, \pi_2)\) as before, since \(B \times A := (A \times B, \pi_2, \pi_1)\) is also a product of \(A\) and \(B\), we then have \(A \times B \cong B \times A\) for any category \(\catg{C}\) where products are defined.

    One final note. While we have constructed the category \(\catg{C}^A_B\) to
    illustrate that products are terminal objects in this category, we shall for
    the remainder of the text, usually not construct the category explicitly
    instead relying on statements like `an object \(X\) satisfies the the
    following universal property: for any other object \(Y\) such that \dots,
    there exist a unique morphism \(f: Y \to X\) such that \dots.' While not as
    rigorous, this should be sufficient for most of the examples we shall
    consider.
\end{example}